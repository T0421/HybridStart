<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>混合应用开发框架-HybridStart Documentation</title>
    <meta content="HybridStart,APICloud,混合应用框架" name="Keywords">
    <meta content="HybridStart 是一套基于APICloud平台的混合应用开发框架，致力于打造最优秀的混合应用开发体验。" name="Description">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta property="og:type" content="document"/>
    <meta property="og:release_date" content="2017-06-25"/>
    <meta property="og:title" content="HybridStart Documentation"/>
    <meta property="og:description" content="HybridStart 是一套基于APICloud平台的混合应用开发框架，致力于打造最优秀的混合应用开发体验。"/>
    <meta property="og:document:type" content="html"/>
    <meta property="og:image" content="https://github.com/tower1229/tower1229.github.io/raw/master/asset/ico108.png"/>
    <meta property="og:document:page" content="1"/>
    <meta property="og:document:cost" content="免费"/>
    <link href="./css/ui.css" rel="stylesheet" />
    <link href="./lib/highlight/styles/github.css" rel="stylesheet" />
    <link rel="icon" href="./favicon.ico">
    <!--[if lt IE 9]><script src="./lib/H5shiv.js"></script><![endif]-->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?f10103677155b485824f29def715eb5d";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>

<body class="hasNav scrollbar">
    <header class="wrap">
        <h1>HybridStart Documentation <small>(混合应用开发框架-持续更新中)</small></h1>
    </header>
    <nav class="wrap nav scrollbar" id="nav">导航生成中...</nav>
    <section class="wrap" id="overall">
        <h2>概述</h2>
        <h3 id="overall-intro">关于</h3>
        <p>HybridStart 是一款混合应用开发框架，提供简洁的UI、清晰的代码管理、简明开发模式，功能丰富的插件，底层基于<a href="http://www.apicloud.com/" target="_blank">APICloud</a>，致力于打造更快、更好的混合应用开发体验。</p>
        <h4>下载</h4>
        Github：<a href="https://github.com/tower1229/HybridStart">[HybridStart]</a>
        <h4>示例</h4>
        <img src="data:image/png;base64,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" alt="HybridStart示例.APK" style="vertical-align: middle;">
        (Android)
        <h4>目录结构</h4>
        <pre>
          <code class="javascript"> 
  |-- docs/                 //文档(不需要上传打包平台)
  |-- error/                //APP错误页
  |-- res/                  //APP静态资源(图片、模板等)
  |-- sdk/ 
  |    |-- modules/             //插件模块
  |    |-- font/                //字体图标
  |    |-- core.js              //核心库
  |    |-- server.js            //业务方法
  |    |-- common.js            //页面公用代码
  |    `-- ui.css               //公共样式
  |-- view/                 //APP页面
  |-- config.js             //框架配置
  `-- config.xml            //APICloud配置
            </code>
        </pre>
        <h4>代码组织</h4>
        <p>HybridStart 项目将APP代码整体分成<strong>SDK</strong> + <strong>View</strong>两部分。</p>
        <p>SDK包含JS核心类库、插件封装、公用代码、UI。其中JS核心<code>core.js</code>集成<code>seajs</code>、<code>jQuery2</code>、<code>etpl</code>(模板引擎)、<code>xss</code>(xss防御)，以及<code>app对象</code>(对混合应用引擎的封装)；插件<code>modules/</code>内包含常用插件功能，如上传、下载、提示框等；<code>server.js</code>和<code>common.js</code>都是业务代码中提取的公用代码。<code>ui.css</code>提供一套移动端组件UI，开发中酌情修改。</p>
        <p>View包含所有的APP页面，每个页面都体现为一个文件夹，其中至少包含<code>temp.html</code>、<code>style.css</code>、<code>script.js</code>三个文件，页面将引用SDK提供的UI和方法来简化开发，页面在<code>view/</code>中最多嵌套两层文件夹。</p>
        <h4>开发模式</h4>
        <p>多webView机制解决了混合应用页面切换不流畅的老大难问题，使APP开发可以像web开发一样通过“链接”跳转“页面”，但这种机制在APP开发中存在一些先天缺陷，比如状态维护、参数传递；也带来了新的问题，比如多页面的内存占用，使新人往往无从下手。</p>
        <p>HybridStart 基于引擎功能封装了<code>openView</code>方法，可以方便的跳转到指定页面，并解决传参、关闭后台等一系列问题。</p>
        <p>HybridStart 约定APP的生命周期为 <code>`root -> index(exit) <=> page <=> page ...`</code>，启动页(view/root/temp.html)通常没有任何展示内容，只执行状态检测、插件调用、监听、数据预取等初始化操作，完成后直接跳转到首页(index)，首页与展示页之间任意跳转返回，但需要在首页拦截返回键，使APP无法返回启动页，而是退出APP，整个生命周期内启动页都在后台运行。</p>
        <h4>交互约定</h4>
        <p>约定前后端交互数据基本格式如下：</p>
        <pre>
          <code>
{
    "status": "Y",      //请求的状态 "Y"/"N"，也可以根据情况扩展其他
    "data": [{...}],    //请求的数据 数组或对象
    "msg": "",          //【可选】服务端提示信息
    "count": [number]   //【可选】当获取列表数据时，需附加count数据指明列表总数，用于前段判断是否还有更多
}
          </code>
        </pre>

        <h3 id="getStart">快速开始</h3>
        <ol>
            <li>在APICloud平台创建一个项目，添加以下模块：UIMultiSelector, UIActionSelector, ajpush, bMap, photoBrowser, dialogBox, push, mam</li>
            <li>将代码检出到本地，备份config.xml并清空其他文件</li>
            <li>将本项目除了<code>docs/</code>以外所有文件拷贝进来，修改config.xml里的appid之类的关键配置</li>
            <li>本地打包或上传平台编译</li>
        </ol>

        <h4>配置</h4>
        <p><code>config.js</code>将在全局挂载<code>appcfg</code>对象，包含APP开发的全部配置，也可以自行扩展其他配置，默认如下：</p>
        <table class="table table-bordered">
            <tr>
                <td>appcfg.product</td>
                <td>
                    切换开发模式，用于appcfg.host转换
                </td>
            </tr>
            <tr>
                <td>appcfg.host</td>
                <td>
                    <p>请求域管理</p>
                    <table class="table">
                        <tr>
                            <td>control</td>
                            <td>普通api请求</td>
                        </tr>
                        <tr>
                            <td>source</td>
                            <td>静态资源域名</td>
                        </tr>
                        <tr>
                            <td>upload</td>
                            <td>上传地址</td>
                        </tr>
                    </table>
                    <p></p>
                </td>
            </tr>
            <tr>
                <td>set</td>
                <td>
                    <p>APP常规设置</p>
                    <table class="table">
                        <tr>
                            <td>version</td>
                            <td>
                                APP版本
                            </td>
                        </tr>
                        <tr>
                            <td>outime</td>
                            <td>
                                超时时间
                            </td>
                        </tr>
                        <tr>
                            <td>longtime</td>
                            <td>
                                加长超时时间
                            </td>
                        </tr>
                        <tr>
                            <td>windowAnimate</td>
                            <td>
                                窗口动画
                            </td>
                        </tr>
                        <tr>
                            <td>animateDuration</td>
                            <td>
                                窗口动画效果时长
                            </td>
                        </tr>
                        <tr>
                            <td>safeStorage</td>
                            <td>
                                受保护的本地存储键，清理缓存时不会清除
                            </td>
                        </tr>
                    </table>
                    <p></p>
                </td>
            </tr>
            <tr>
                <td>ajax</td>
                <td>
                    <p>ajax相关设置</p>
                    <table class="table">
                        <tr>
                            <td>crypto</td>
                            <td>
                                请求加密相关设置，加密方式模式为3DES
                            </td>
                        </tr>
                    </table>
                    <p></p>
                </td>
            </tr>
            <tr>
                <td>log</td>
                <td>
                    <p>调试日志相关设置</p>
                    <table class="table">
                        <tr>
                            <td>path</td>
                            <td>
                                日志文件地址
                            </td>
                        </tr>
                    </table>
                    <p></p>
                </td>
            </tr>
            <tr>
                <td>defaultTheme</td>
                <td>
                    <p>APP默认主题设置</p>
                </td>
            </tr>
            <tr>
                <td>plugin</td>
                <td>
                    <p>APP插件相关设置</p>
                </td>
            </tr>
        </table>
        
    </section>
    <section class="wrap" id="SDK">
        <h2>SDK</h2>
        <h3 id="sdk-core">Core</h3>
        <p>core.js集成seajs、jQuery2、etpl(模板引擎)、xss(xss防御)，以及app对象(对混合应用引擎的封装)，除了seajs和app对象以外都是非必须；</p>
        <h4>app对象</h4>
        <p>app对象是对底层引擎功能的封装，包括：</p>
        <nav class="modules_index" id="component_index"></nav>
        <dl class="dl modules_list" id="component_list">
            <dt id="app(核心方法)">app</dt>
            <dd>
                <p>app对象，挂载以下方法</p>
                <table class="table bordered">
                    <tr>
                        <td>app.getUID()</td>
                        <td>
                            返回从1开始递增的数字
                        </td>
                    </tr>
                    <tr>
                        <td>app.getUUID(length)</td>
                        <td>
                            返回一个随机字母数字组合，可选长度参数，默认6
                        </td>
                    </tr>
                    <tr>
                        <td>app.isString(obj)</td>
                        <td>
                            判断obj是否是字符类型
                        </td>
                    </tr>
                    <tr>
                        <td>app.ready(fn)</td>
                        <td>
                            引擎就绪回调
                        </td>
                    </tr>
                    <tr>
                        <td>app.pause(fn)</td>
                        <td>
                            app退到后台回调
                        </td>
                    </tr>
                    <tr>
                        <td>app.resume(fn)</td>
                        <td>
                            app回到前台回调
                        </td>
                    </tr>
                    <tr>
                        <td>app.monitorKey(id, callback)</td>
                        <td>
                            <p>手机按键监听</p>
                            <table class="table bordered">
                                <tr>
                                    <td>id</td>
                                    <td>
                                        <p>0：返回键</p>
                                        <p>1：菜单键</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                        <p>按键回调</p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.subscribe(eventName, callback)</td>
                        <td>
                            <p>接收名称为eventName的事件，并执行回调callback</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.publish(eventName, msg)</td>
                        <td>
                            <p>发布名称为eventName的事件，附带消息msg，将在接收事件回调中接收</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.exit(silent)</td>
                        <td>
                            app退出，silent可选，若为真值将无提示直接退出
                        </td>
                    </tr>
                    <tr>
                        <td>app.openToast(config)</td>
                        <td>
                            <p>打开一个气泡提示</p>
                            <table class="table bordered">
                                <tr>
                                    <td>config.msg</td>
                                    <td>
                                        <p>提示内容</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.duration</td>
                                    <td>
                                        <p>显示时长，默认2000，单位ms</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.position</td>
                                    <td>
                                        <p>显示位置，默认"bottom"，可选参数见引擎文档</p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.log(msg)</td>
                        <td>
                            向指定文件输出调试信息
                        </td>
                    </tr>
                    <tr>
                        <td>app.loading</td>
                        <td>
                            <p>模态loading提示</p>
                            <table class="table bordered">
                                <tr>
                                    <td>app.loading.show([msg], [opt])</td>
                                    <td>
                                        <p>显示loading，默认提示文字'努力加载中.'</p>
                                        <table class="table">
                                            <tr>
                                                <td>opt.msg</td>
                                                <td>
                                                    <p></p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>opt.title</td>
                                                <td>
                                                    <p></p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>opt.anim</td>
                                                <td>
                                                    <p></p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>opt.delay</td>
                                                <td>
                                                    <p></p>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                                <tr>
                                    <td>app.loading.hide()</td>
                                    <td>
                                        关闭loading
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.toload(option)</td>
                        <td>
                            <p>通用分页加载，自动生成递增页码：</p>
                            <pre>
                          <code>
{
  "page_index" : 0,           //从0开始，每次+1
  "page_size" : 10            //由size参数决定，默认10
}
                          </code>
                        </pre>
                            <table class="table bordered">
                                <tr>
                                    <td>url</td>
                                    <td>
                                        请求url
                                    </td>
                                </tr>
                                <tr>
                                    <td>size</td>
                                    <td>
                                        每页请求条数，将作为<code>data.page_size</code>发送
                                    </td>
                                </tr>
                                <tr>
                                    <td>data</td>
                                    <td>
                                        请求参数
                                    </td>
                                </tr>
                                <tr>
                                    <td>dataType</td>
                                    <td>
                                        请求格式，默认'json'
                                    </td>
                                </tr>
                                <tr>
                                    <td>reload</td>
                                    <td>
                                        是否重置该请求页码，默认false
                                    </td>
                                </tr>
                                <tr>
                                    <td>success</td>
                                    <td>
                                        成功回调
                                    </td>
                                </tr>
                                <tr>
                                    <td>nomore</td>
                                    <td>
                                        到最后一页回调
                                    </td>
                                </tr>
                                <tr>
                                    <td>error</td>
                                    <td>
                                        错误回调
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.getScript(road, callback, option)</td>
                        <td>
                            <p>加载非模块化js文件</p>
                            <table class="table bordered">
                                <tr>
                                    <td>road</td>
                                    <td>
                                        文件路径，字符或数组
                                    </td>
                                </tr>
                                <tr>
                                    <td>callback</td>
                                    <td>
                                        加载回调
                                    </td>
                                </tr>
                                <tr>
                                    <td>option</td>
                                    <td>
                                        <p>option.css：[布尔/字符]是否加载同名同路径css文件，或加载指定css文件，默认<code>null</code></p>
                                        <p>option.jquery：[布尔]所加载文件是否依赖全局jquery对象，默认<code>null</code></p>
                                        <p>option.rely：[布尔]若road为数组，是否按数组顺序依次加载，默认<code>null</code></p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.applyTheme(object)</td>
                        <td>
                            <p>加载主题方法，参数格式见appcfg.defaultTheme</p>
                            <p>主题文件缓存于localStorage，除非重装app，否则将永久保存</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.pull</td>
                        <td>
                            <p>下拉刷新方法</p>
                            <table class="table bordered">
                                <tr>
                                    <td>app.pull.init(fn)</td>
                                    <td>
                                        <p>初始化下拉刷新功能，fn是触发回调，必填</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>app.pull.stop()</td>
                                    <td>
                                        <p>停止下拉刷新效果，恢复到正常状态</p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.openView(param, leval1, [leval2])</td>
                        <td>
                            <p>跳转页面方法，leval1和leval2分别代表页面文件在<code>view/</code>内的文件夹路径，openView方法将打开指定路径中的<code>temp.html</code>页面，因此<code>view/</code>内最多支持两级目录。详细参数：</p>
                            <table class="table bordered">
                                <tr>
                                    <td>param</td>
                                    <td>
                                        <p>[object/string] </p>
                                        <p>当param为非object类型时，将作为新页面参数直接被存入<code>crossParam</code>；若为object类型可以传入更多配置，详见下文；若不需要传参数和修改任何配置，则要传入<code>null/undefined</code>。</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.param</td>
                                    <td>
                                        <p>作为页面参数存入本地存储<code>crossParam</code>中，如果是Object类型将同时使用官方传参方法，新页面中也可以通过<code>api.pageParam</code>获取。</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.duration</td>
                                    <td>
                                        <p>页面切换动画时长，默认appcfg.set.animateDuration</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.anim</td>
                                    <td>
                                        <p>页面切换动画类型，默认appcfg.set.windowAnimate</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.fullPath</td>
                                    <td>
                                        <p>默认<code>false</code>，是否将参数leval1的值作为页面完整地址访问，将忽略leval2的值。用于访问<code>view/</code>之外的页面。</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.pop</td>
                                    <td>
                                        <p>默认<code>false</code>，是否以弹层形式在当前窗口打开。</p>
                                        <p>若为<code>true</code>，还可以传<code>param.top</code>和<code>param.height</code>，指示弹层的顶部位置和高度，默认都是0</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.bar</td>
                                    <td>
                                        <p>默认<code>false</code>，是否以带标题栏的方式打开。</p>
                                        <p>若为<code>true</code>，还可以传<code>param.title</code>作为标题内容</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.closeself</td>
                                    <td>
                                        <p>默认<code>false</code>，是否跳转到新页面后关闭当前页面</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>param.closeback</td>
                                    <td>
                                        <p>默认<code>false</code>，是否跳转到新页面后关闭所有后台页面</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>leval1</td>
                                    <td>
                                        <p>目标页面在<code>view/</code>内的一级目录，如：</p>
                                        <pre>
                                    <code>
            //将打开 "view/news/temp.html"
            app.openView(null,'news');
                                    </code>
                                  </pre>
                                        <p>当leval1是url时，将以web页面形式打开，此时将忽略leval2</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>leval2</td>
                                    <td>
                                        <p>目标页面在<code>view/</code>内的二级目录，如：</p>
                                        <pre>
                                    <code>
            //将打开 "view/news/detail/temp.html"
            app.openView(null,'news','detail');
                                    </code>
                                  </pre>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.getParam()</td>
                        <td>
                            <p>获取<code>app.openView()</code>方法传递的参数，支持Object格式。</p>
                        </td>
                    </tr>
                </table>
                <p></p>
            </dd>
            <dt id="app.crypto(加密)">app.crypto</dt>
            <dd>
                <p>封装CryptoJS加密库，ajax加密默认使用3DES方式，加密设置见config.js，配置说明：</p>
                <table class="table bordered">
                    <tr>
                        <td>crypto.enable</td>
                        <td>
                            <p>是否开启加密，默认false</p>
                        </td>
                    </tr>
                    <tr>
                        <td>crypto.secret</td>
                        <td>
                            <p>26位密钥</p>
                        </td>
                    </tr>
                    <tr>
                        <td>crypto.key</td>
                        <td>
                            <p>6位key</p>
                        </td>
                    </tr>
                    <tr>
                        <td>crypto.url</td>
                        <td>
                            <p>加密请求统一发送地址</p>
                        </td>
                    </tr>
                </table>
                <p></p>
            </dd>
            <dt id="app.ls(本地存储)">app.ls</dt>
            <dd>
                <p>本地存储方法</p>
                <table class="table bordered">
                    <tr>
                        <td>app.ls.val(key, [value])</td>
                        <td>
                            <p>设置key的值为value，若参数无value将返回key值</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.ls.remove(key)</td>
                        <td>
                            <p>移除本地存储key值</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.ls.leaveSpace()</td>
                        <td>
                            返回本地存储剩余空间，单位byte
                        </td>
                    </tr>
                </table>
                <p></p>
            </dd>
            
            <dt id="app.window(窗口相关)">app.window</dt>
            <dd>
                <p>窗口相关方法</p>
                <table class="table bordered">
                    <tr>
                        <td>app.window.open(option)</td>
                        <td>
                            <p>打开窗口方法，通常可以被<code>app.openView</code>取代</p>
                            <table class="table bordered">
                                <tr>
                                    <td>option.name</td>
                                    <td>
                                        <p>窗口名称，必须</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>option.url</td>
                                    <td>
                                        <p>页面url，必须</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>option.param</td>
                                    <td>
                                        <p>新页面的pageParam</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>option.anim</td>
                                    <td>
                                        <p>打开窗口的动画效果，默认appcfg.set.windowAnimate</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>option.dura</td>
                                    <td>
                                        <p>打开窗口动画的时长，默认appcfg.set.animateDuration</p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.close([winName], [anim], [animDuration])</td>
                        <td>
                            <p>关闭名称为<code>winName</code>的窗口</p>
                            <p><code>winName</code>默认当前窗口名称；<code>anim</code>指定关闭效果，默认appcfg.set.windowAnimate；<code>animDuration</code>指定关闭动画时长，默认appcfg.set.animateDuration</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.resume(fn)</td>
                        <td>
                            <p>窗口回到前台回调</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.pause(fn)</td>
                        <td>
                            <p>窗口退到后台回调</p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.popoverElement(config)</td>
                        <td>
                            <p>在指定元素区域打开浮动窗口</p>
                            <table class="table bordered">
                                <tr>
                                    <td>config.id</td>
                                    <td>
                                        <p>指定元素的id，必须</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.url</td>
                                    <td>
                                        打开浮动窗口的url，必须
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.name</td>
                                    <td>
                                        打开浮动窗口的名称，默认使用config.id
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.bounce</td>
                                    <td>
                                        浮动窗口是否支持弹动效果，默认false
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.param</td>
                                    <td>
                                        传给浮动窗口的参数，默认{}
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.openPopover(config)</td>
                        <td>
                            <p>打开浮动窗口，并在新浮动窗口扩展window.selfTop属性，指明自身距离屏幕底部距离</p>
                            <table class="table bordered">
                                <tr>
                                    <td>config.name</td>
                                    <td>
                                        <p>新浮动窗口名称，必须</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.url</td>
                                    <td>
                                        <p>新浮动窗口url，必须</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.data</td>
                                    <td>
                                        <p>新浮动窗口pageParam，默认{}</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.left</td>
                                    <td>
                                        <p>新浮动窗口距屏幕左边缘距离，默认0</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.top</td>
                                    <td>
                                        <p>新浮动窗口距屏幕上边缘距离，默认0</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.width</td>
                                    <td>
                                        <p>新浮动窗口宽度，默认'auto'，将横向充满屏幕</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.height</td>
                                    <td>
                                        <p>新浮动窗口高度，默认'auto'，将纵向充满屏幕</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.bottomMargin</td>
                                    <td>
                                        <p>新浮动窗口距离底部距离，默认0，不可与height同时使用</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.bounces</td>
                                    <td>
                                        <p>新浮动窗口是否支持弹动效果，默认false</p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.resizePopover(config)</td>
                        <td>
                            <p>修改指定窗口位置/大小</p>
                            <table class="table bordered">
                                <tr>
                                    <td>config.name</td>
                                    <td>
                                        <p>要修改的窗口名称，必须</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.left</td>
                                    <td>
                                        <p>窗口距屏幕左边缘距离，默认'auto'，将横向充满</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.top</td>
                                    <td>
                                        <p>窗口距屏幕上边缘距离，默认'auto'，将纵向充满</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.width</td>
                                    <td>
                                        <p>窗口宽度，默认0</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td>config.height</td>
                                    <td>
                                        <p>窗口高度，默认0</p>
                                    </td>
                                </tr>
                            </table>
                            <p></p>
                        </td>
                    </tr>
                    <tr>
                        <td>app.window.evaluate(name, [frameName], scriptContent)</td>
                        <td>
                            <p>在名称为name的窗口中执行脚本scriptContent</p>
                        </td>
                    </tr>
                </table>
                <p></p>
            </dd>
            <dt id="app.ajax(网络请求)">app.ajax(option)</dt>
            <dd>
                <p>封装网络请求</p>
                <table class="table bordered">
                    <tr>
                        <td>option.method</td>
                        <td>
                            发送方式，默认"post"
                        </td>
                    </tr>
                    <tr>
                        <td>option.dataType</td>
                        <td>
                            请求数据格式，默认"json"
                        </td>
                    </tr>
                    <tr>
                        <td>option.timeout</td>
                        <td>
                            超时时间，默认appcfg.set.outime / 1000，单位s
                        </td>
                    </tr>
                    <tr>
                        <td>option.url</td>
                        <td>
                            请求url
                        </td>
                    </tr>
                    <tr>
                        <td>option.data</td>
                        <td>
                            发送数据
                        </td>
                    </tr>
                    <tr>
                        <td>option.success</td>
                        <td>
                            请求成功回调
                        </td>
                    </tr>
                    <tr>
                        <td>option.error</td>
                        <td>
                            请求失败回调
                        </td>
                    </tr>
                </table>
                <p></p>
            </dd>
            <dt id="extend(扩展方法)">extend</dt>
            <dd>
                <p>扩展方法/属性</p>
                <table class="table bordered">
                    <tr>
                        <td>window.platform</td>
                        <td>
                            <p>引擎就绪后在window上扩展platform属性，指明当前平台，例如"android/ios"</p>
                        </td>
                    </tr>
                    <tr>
                        <td>window.version</td>
                        <td>
                            <p>引擎就绪后在window上扩展version属性，指明当前平台的版本号</p>
                        </td>
                    </tr>
                    <tr>
                        <td>$.fn.cacheImg()</td>
                        <td>
                            <p>图片缓存jQuery扩展，将查找DOM内具有"[data-remote]"属性的元素，将其"[data-remote]"属性作为远程图片缓存到本地并为自身赋值已缓存的地址，元素为img赋值给src，否则赋值给background-image属性性</p>
                        </td>
                    </tr>
                    <tr>
                        <td>图片延迟加载</td>
                        <td>
                            <p>页面内所有具有"[data-src]"属性的img元素将在页面打开完成后将"[data-src]"属性值赋值给src属性，从而起到延迟加载的作用</p>
                        </td>
                    </tr>
                </table>
                <p></p>
            </dd>
        </dl>

        <h3 id="sdk-modules">Modules</h3>
        <p>常用插件的模块化封装：</p>
        <nav class="modules_index" id="modules_index"></nav>
        <dl class="dl modules_list" id="modules_list">
            <dt id="validform(表单验证)">validform</dt>
            <dd>
                <p>API同<a href="http://refined-x.com/Flow-UI/docs/#Validform(%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81)" target="_blank">Flow-UI Validform</a>，只是请求方法用<code>app.ajax()</code>代替。</p>
                <p></p>
            </dd>
            <dt id="actionSheet(动作菜单)">actionSheet</dt>
            <dd>
                <p>返回actionSheet方法，语法<code>actionSheet(option)</code></p>
                <table class="table bordered">
                    <tr>
                        <td>option.titleText</td>
                        <td>
                            <p>菜单标题，默认''，将不显示标题</p>
                        </td>
                    </tr>
                    <tr>
                        <td>option.buttons</td>
                        <td>
                            <p>按钮文字数组</p>
                        </td>
                    </tr>
                    <tr>
                        <td>option.destructiveText</td>
                        <td>
                            <p>额外的危险操作按钮文字，如"删除"，默认""</p>
                        </td>
                    </tr>
                    <tr>
                        <td>option.cancelText</td>
                        <td>
                            <p>额外的取消按钮文字，如"取消"，默认""</p>
                        </td>
                    </tr>
                    <tr>
                        <td>buttonClicked</td>
                        <td>
                            点击按钮回调，接收按钮序号为参数
                        </td>
                    </tr>
                </table>
                <p>示例</p>
                <pre>
                <code>
require.async('actionSheet', function(actionSheet) {
  actionSheet({
    titleText: '选择图片',
    buttons: ['拍摄','选择图片'],
    cancelText: '取消',
    buttonClicked: function(index) {
      switch (index) {
        case 1:
          
          break;
        case 2:
          
          break;
      }
    }
  });
});
                </code>
              </pre>
            </dd>
            <dt id="box(弹窗)">弹窗插件</dt>
            <dd>
                <p>封装多种形态弹窗方法</p>
                <table class="table bordered">
                    <tr>
                        <td>box.alert(msg, sure, config)</td>
                        <td>
                            <p>弹出msg，带有title和一个按钮，点击按钮回调sure，返回弹窗name</p>
                        </td>
                    </tr>
                    <tr>
                        <td>box.confirm(msg, sure, cancel, config)</td>
                        <td>
                            <p>弹出msg，带有title和两个按钮，第一个按钮回调sure，第二个按钮回调cancel，返回弹窗name</p>
                        </td>
                    </tr>
                    <tr>
                        <td>box.msg(msg, config)</td>
                        <td>
                            <p>以气泡形式弹出msg，返回弹窗name</p>
                        </td>
                    </tr>
                    <tr>
                        <td>box.amount(num, cb, config)</td>
                        <td>
                            <p>弹出一个加减计数器，默认数值num，确定回调cb，返回弹窗name</p>
                        </td>
                    </tr>
                    <tr>
                        <td>box.input(placeholder, cb, config)</td>
                        <td>
                            <p>弹出一个输入框，提示语为placeholder，确定回调cb，返回弹窗name</p>
                        </td>
                    </tr>
                    <tr>
                        <td>box.hide(name)</td>
                        <td>
                            <p>关闭指定name的弹窗</p>
                        </td>
                    </tr>
                </table>
                <p>通用配置如下：</p>
                <table class="table bordered">
                    <tr>
                        <td>config.bg</td>
                        <td>
                            <p>背景色，默认'#fff'</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.title</td>
                        <td>
                            <p>标题文字，默认'提示'</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.oktext</td>
                        <td>
                            <p>确认按钮文字，默认'确认'</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.canceltext</td>
                        <td>
                            <p>取消按钮文字，默认'取消'</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.bgclose</td>
                        <td>
                            <p>点击空白处是否关闭弹窗，默认true</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.width</td>
                        <td>
                            <p>弹窗宽度，默认300</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.delay</td>
                        <td>
                            <p>显示时长，默认2000，单位ms，仅用于box.msg</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.toastPosi</td>
                        <td>
                            <p>显示位置，默认'middle'，仅用于box.msg</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.onclose</td>
                        <td>
                            <p>关闭回掉，仅用于box.msg</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.btnbg</td>
                        <td>
                            <p>按钮背景色，默认'#fff'</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.corner</td>
                        <td>
                            <p>圆角大小，默认4</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.btncolor</td>
                        <td>
                            <p>按钮文字颜色，默认'#000'</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.btnWidth</td>
                        <td>
                            <p>按钮宽度，默认130</p>
                        </td>
                    </tr>
                    <tr>
                        <td>config.btnHeight</td>
                        <td>
                            <p>按钮高度，默认40</p>
                        </td>
                    </tr>

                </table>
                <p></p>
            </dd>
            <dt id="download(下载)">download</dt>
            <dd>
                待补充
            </dd>
            <dt id="echarts(图表)">echarts</dt>
            <dd>
                <p>封装百度echarts插件。</p>
            </dd>
            <dt id="optionList(左划菜单列表)">optionList</dt>
            <dd>
                待补充
            </dd>
            <dt id="scrollload(滚动加载)">scrollload</dt>
            <dd>
                待补充
            </dd>
            <dt id="tip(提示语)">tip</dt>
            <dd>
                待补充
            </dd>
            <dt id="upload(上传)">upload</dt>
            <dd>
                待补充
            </dd>
        </dl>
        <h3 id="sdk-server">Server</h3>
        <p>待整理</p>
        <h3 id="sdk-common">Common</h3>
        <p>待整理</p>
        <h3 id="sdk-ui">UI</h3>
        <p>待整理</p>
    </section>
    <section class="wrap" id="view">
        <h2>View</h2>
        <h3 id="view-root">初始化</h3>
        <p>root</p>
        <h3 id="view-page">页面组织</h3>
        <p>层级</p>
        <p>公用元素</p>
        <p>常见场景</p>
        <h3 id="view-demo">应用示例</h3>
        <p>待补充</p>
    </section>
    <footer class="wrap oh tc">
        <div class="row ">
            <a href="#" title="返回顶部" class="dib foot_logo gotop">
                <figure></figure>
            </a>
            <p class="dib"> © 2016 - 3016&emsp;<a href="http://refined-x.com" title="雅X共赏的前端技术博客">前端路上</a>&emsp;<a href="mailto:tower1229@gmail.com" title="mailto:雅X共赏">雅X共赏</a></p>
        </div>
    </footer>
</body>
<script src="./lib/seajs/sea.js" id="seajs-node"></script>
<script src="./seajs.config.js"></script>
<script>
    seajs.use('./app/doc');
</script>

</html>
